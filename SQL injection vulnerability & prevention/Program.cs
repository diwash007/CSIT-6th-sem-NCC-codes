using MySql.Data.MySqlClient;
using System.Data;

public class Program {

    public static void Main() {
        string constr = "server=localhost;database=csit;username=root;password=;";
        MySqlConnection conn = new MySqlConnection(constr);
        conn.Open();

        Console.Write("Enter user id: ");
        var id = Console.ReadLine();

        // SQL injection vulnerable
        // string sql = "select * from students where studentId='" + id + "'";
        // MySqlCommand cmd = new MySqlCommand(sql, conn);

        // SQL with no vulnerability
        string sql = "select * from students where studentId=@id";
        MySqlCommand cmd = new MySqlCommand(sql, conn);
        cmd.Parameters.AddWithValue("@id", id);

        MySqlDataAdapter da = new MySqlDataAdapter(cmd);
        DataTable dt = new DataTable();
        da.Fill(dt);

        foreach(DataRow row in dt.Rows) {
            Console.WriteLine(row["Name"]);
        }

        conn.Close();
    }
}